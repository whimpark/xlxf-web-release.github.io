import{b8 as Pe,a3 as j,a4 as se,a5 as be,p as le,s as q,I as fe,_ as ve,b9 as xe,ba as Ee,a as K,al as Se,M as ke,aa as Be,ai as W,aN as Oe,aC as Re,Z as ie,K as ze,bb as ce,O as Ae,P as Ve,b as Fe}from"./admin-ad3d5783.js";import{E as Me,a as Le}from"./el-table-column-ef83c32e.js";import"./el-checkbox-31809f06.js";import"./el-tag-4ad610f8.js";import{c as O}from"./strings-53a0bdeb.js";import{s as De,F as Ie,L as z,i as ne,r as $,w as R,n as oe,j as D,k as I,S as me,v as B,T as Ue,g as H,h as U,x as pe,Y as Ke,W as t,G as We,M as _e,A as je,a5 as qe,a as he,I as He,R as Xe,U as Ye,_ as ae,Q as h,l as M,a4 as ee,ac as L,X as de}from"./_plugin-vue_export-helper-4889436d.js";import{U as ye}from"./event-9519ab40.js";import"./_Uint8Array-e3e0421f.js";import"./_initCloneObject-1ca246d8.js";const X=Symbol("tabsRootContextKey"),Ge=(e,o,s)=>Pe(e.subTree).filter(a=>{var l;return Ie(a)&&((l=a.type)==null?void 0:l.name)===o&&!!a.component}).map(a=>a.component.uid).map(a=>s[a]).filter(a=>!!a),Qe=(e,o)=>{const s={},w=De([]);return{children:w,addChild:l=>{s[l.uid]=l,w.value=Ge(e,o,s)},removeChild:l=>{delete s[l],w.value=w.value.filter(_=>_.uid!==l)}}},Ze=j({tabs:{type:se(Array),default:()=>be([])}}),ge="ElTabBar",Je=z({name:ge}),et=z({...Je,props:Ze,setup(e,{expose:o}){const s=e,w=H(),b=ne(X);b||le(ge,"<el-tabs><el-tab-bar /></el-tabs>");const a=q("tabs"),l=$(),_=$(),r=()=>{let p=0,c=0;const f=["top","bottom"].includes(b.props.tabPosition)?"width":"height",n=f==="width"?"x":"y",P=n==="x"?"left":"top";return s.tabs.every(S=>{var A,i;const g=(i=(A=w.parent)==null?void 0:A.refs)==null?void 0:i[`tab-${S.uid}`];if(!g)return!1;if(!S.active)return!0;p=g[`offset${O(P)}`],c=g[`client${O(f)}`];const C=window.getComputedStyle(g);return f==="width"&&(s.tabs.length>1&&(c-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight)),p+=Number.parseFloat(C.paddingLeft)),!1}),{[f]:`${c}px`,transform:`translate${O(n)}(${p}px)`}},v=()=>_.value=r();return R(()=>s.tabs,async()=>{await oe(),v()},{immediate:!0}),fe(l,()=>v()),o({ref:l,update:v}),(p,c)=>(D(),I("div",{ref_key:"barRef",ref:l,class:me([B(a).e("active-bar"),B(a).is(B(b).props.tabPosition)]),style:Ue(_.value)},null,6))}});var tt=ve(et,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const at=j({panes:{type:se(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),st={tabClick:(e,o,s)=>s instanceof Event,tabRemove:(e,o)=>o instanceof Event},ue="ElTabNav",lt=z({name:ue,props:at,emits:st,setup(e,{expose:o,emit:s}){const w=H(),b=ne(X);b||le(ue,"<el-tabs><tab-nav /></el-tabs>");const a=q("tabs"),l=xe(),_=Ee(),r=$(),v=$(),p=$(),c=$(!1),f=$(0),n=$(!1),P=$(!0),S=U(()=>["top","bottom"].includes(b.props.tabPosition)?"width":"height"),A=U(()=>({transform:`translate${S.value==="width"?"X":"Y"}(-${f.value}px)`})),i=()=>{if(!r.value)return;const d=r.value[`offset${O(S.value)}`],m=f.value;if(!m)return;const u=m>d?m-d:0;f.value=u},g=()=>{if(!r.value||!v.value)return;const d=v.value[`offset${O(S.value)}`],m=r.value[`offset${O(S.value)}`],u=f.value;if(d-u<=m)return;const x=d-u>m*2?u+m:d-m;f.value=x},C=async()=>{const d=v.value;if(!c.value||!p.value||!r.value||!d)return;await oe();const m=p.value.querySelector(".is-active");if(!m)return;const u=r.value,x=["top","bottom"].includes(b.props.tabPosition),T=m.getBoundingClientRect(),N=u.getBoundingClientRect(),k=x?d.offsetWidth-N.width:d.offsetHeight-N.height,E=f.value;let y=E;x?(T.left<N.left&&(y=E-(N.left-T.left)),T.right>N.right&&(y=E+T.right-N.right)):(T.top<N.top&&(y=E-(N.top-T.top)),T.bottom>N.bottom&&(y=E+(T.bottom-N.bottom))),y=Math.max(y,0),f.value=Math.min(y,k)},V=()=>{if(!v.value||!r.value)return;const d=v.value[`offset${O(S.value)}`],m=r.value[`offset${O(S.value)}`],u=f.value;if(m<d){const x=f.value;c.value=c.value||{},c.value.prev=x,c.value.next=x+m<d,d-x<m&&(f.value=d-m)}else c.value=!1,u>0&&(f.value=0)},Y=d=>{const m=d.code,{up:u,down:x,left:T,right:N}=W;if(![u,x,T,N].includes(m))return;const k=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),E=k.indexOf(d.target);let y;m===T||m===u?E===0?y=k.length-1:y=E-1:E<k.length-1?y=E+1:y=0,k[y].focus({preventScroll:!0}),k[y].click(),re()},re=()=>{P.value&&(n.value=!0)},G=()=>n.value=!1;return R(l,d=>{d==="hidden"?P.value=!1:d==="visible"&&setTimeout(()=>P.value=!0,50)}),R(_,d=>{d?setTimeout(()=>P.value=!0,50):P.value=!1}),fe(p,V),pe(()=>setTimeout(()=>C(),0)),Ke(()=>V()),o({scrollToActiveTab:C,removeFocus:G}),R(()=>e.panes,()=>w.update(),{flush:"post"}),()=>{const d=c.value?[t("span",{class:[a.e("nav-prev"),a.is("disabled",!c.value.prev)],onClick:i},[t(K,null,{default:()=>[t(Se,null,null)]})]),t("span",{class:[a.e("nav-next"),a.is("disabled",!c.value.next)],onClick:g},[t(K,null,{default:()=>[t(ke,null,null)]})])]:null,m=e.panes.map((u,x)=>{var T,N,k,E;const y=u.uid,Q=u.props.disabled,Z=(N=(T=u.props.name)!=null?T:u.index)!=null?N:`${x}`,J=!Q&&(u.isClosable||e.editable);u.index=`${x}`;const Ne=J?t(K,{class:"is-icon-close",onClick:F=>s("tabRemove",u,F)},{default:()=>[t(Be,null,null)]}):null,Te=((E=(k=u.slots).label)==null?void 0:E.call(k))||u.props.label,$e=!Q&&u.active?0:-1;return t("div",{ref:`tab-${y}`,class:[a.e("item"),a.is(b.props.tabPosition),a.is("active",u.active),a.is("disabled",Q),a.is("closable",J),a.is("focus",n.value)],id:`tab-${Z}`,key:`tab-${y}`,"aria-controls":`pane-${Z}`,role:"tab","aria-selected":u.active,tabindex:$e,onFocus:()=>re(),onBlur:()=>G(),onClick:F=>{G(),s("tabClick",u,Z,F)},onKeydown:F=>{J&&(F.code===W.delete||F.code===W.backspace)&&s("tabRemove",u,F)}},[Te,Ne])});return t("div",{ref:p,class:[a.e("nav-wrap"),a.is("scrollable",!!c.value),a.is(b.props.tabPosition)]},[d,t("div",{class:a.e("nav-scroll"),ref:r},[t("div",{class:[a.e("nav"),a.is(b.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(b.props.tabPosition))],ref:v,style:A.value,role:"tablist",onKeydown:Y},[e.type?null:t(tt,{tabs:[...e.panes]},null),m])])])}}}),nt=j({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:se(Function),default:()=>!0},stretch:Boolean}),te=e=>je(e)||ze(e),ot={[ye]:e=>te(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>te(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>te(e),tabAdd:()=>!0};var rt=z({name:"ElTabs",props:nt,emits:ot,setup(e,{emit:o,slots:s,expose:w}){var b,a;const l=q("tabs"),{children:_,addChild:r,removeChild:v}=Qe(H(),"ElTabPane"),p=$(),c=$((a=(b=e.modelValue)!=null?b:e.activeName)!=null?a:"0"),f=i=>{c.value=i,o(ye,i),o("tabChange",i)},n=async i=>{var g,C,V;if(!(c.value===i||ie(i)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,i,c.value))!==!1&&(f(i),(V=(C=p.value)==null?void 0:C.removeFocus)==null||V.call(C))}catch{}},P=(i,g,C)=>{i.props.disabled||(n(g),o("tabClick",i,C))},S=(i,g)=>{i.props.disabled||ie(i.props.name)||(g.stopPropagation(),o("edit",i.props.name,"remove"),o("tabRemove",i.props.name))},A=()=>{o("edit",void 0,"add"),o("tabAdd")};return Oe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},U(()=>!!e.activeName)),R(()=>e.activeName,i=>n(i)),R(()=>e.modelValue,i=>n(i)),R(c,async()=>{var i;await oe(),(i=p.value)==null||i.scrollToActiveTab()}),We(X,{props:e,currentName:c,registerPane:r,unregisterPane:v}),w({currentName:c}),()=>{const i=e.editable||e.addable?t("span",{class:l.e("new-tab"),tabindex:"0",onClick:A,onKeydown:V=>{V.code===W.enter&&A()}},[t(K,{class:l.is("icon-plus")},{default:()=>[t(Re,null,null)]})]):null,g=t("div",{class:[l.e("header"),l.is(e.tabPosition)]},[i,t(lt,{ref:p,currentName:c.value,editable:e.editable,type:e.type,panes:_.value,stretch:e.stretch,onTabClick:P,onTabRemove:S},null)]),C=t("div",{class:l.e("content")},[_e(s,"default")]);return t("div",{class:[l.b(),l.m(e.tabPosition),{[l.m("card")]:e.type==="card",[l.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,C]:[C,g]])}}});const it=j({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ct=["id","aria-hidden","aria-labelledby"],we="ElTabPane",dt=z({name:we}),ut=z({...dt,props:it,setup(e){const o=e,s=H(),w=qe(),b=ne(X);b||le(we,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=q("tab-pane"),l=$(),_=U(()=>o.closable||b.props.closable),r=ce(()=>{var n;return b.currentName.value===((n=o.name)!=null?n:l.value)}),v=$(r.value),p=U(()=>{var n;return(n=o.name)!=null?n:l.value}),c=ce(()=>!o.lazy||v.value||r.value);R(r,n=>{n&&(v.value=!0)});const f=he({uid:s.uid,slots:w,props:o,paneName:p,active:r,index:l,isClosable:_});return pe(()=>{b.registerPane(f)}),He(()=>{b.unregisterPane(f.uid)}),(n,P)=>B(c)?Xe((D(),I("div",{key:0,id:`pane-${B(p)}`,class:me(B(a).b()),role:"tabpanel","aria-hidden":!B(r),"aria-labelledby":`tab-${B(p)}`},[_e(n.$slots,"default")],10,ct)),[[Ye,B(r)]]):ae("v-if",!0)}});var Ce=ve(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const bt=Ae(rt,{TabPane:Ce}),ft=Ve(Ce);const vt={class:"container"},mt={class:"message-title"},pt={class:"handle-row"},_t={class:"message-title"},ht={class:"handle-row"},yt={class:"message-title"},gt={class:"handle-row"},wt=z({name:"tabs"}),Bt=z({...wt,setup(e){const o=$("first"),s=he({unread:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"},{date:"2018-04-19 21:00:00",title:"今晚12点整发大红包，先到先得"}],read:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}],recycle:[{date:"2018-04-19 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}]}),w=l=>{const _=s.unread.splice(l,1);s.read=_.concat(s.read)},b=l=>{const _=s.read.splice(l,1);s.recycle=_.concat(s.recycle)},a=l=>{const _=s.recycle.splice(l,1);s.read=_.concat(s.read)};return(l,_)=>{const r=Me,v=Fe,p=Le,c=ft,f=bt;return D(),I("div",vt,[t(f,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=n=>o.value=n)},{default:h(()=>[t(c,{label:`未读消息(${s.unread.length})`,name:"first"},{default:h(()=>[t(p,{data:s.unread,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(n=>[M("span",mt,ee(n.row.title),1)]),_:1}),t(r,{prop:"date",width:"180"}),t(r,{width:"120"},{default:h(n=>[t(v,{size:"small",onClick:P=>w(n.$index)},{default:h(()=>[L("标为已读")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),M("div",pt,[t(v,{type:"primary"},{default:h(()=>[L("全部标为已读")]),_:1})])]),_:1},8,["label"]),t(c,{label:`已读消息(${s.read.length})`,name:"second"},{default:h(()=>[o.value==="second"?(D(),I(de,{key:0},[t(p,{data:s.read,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(n=>[M("span",_t,ee(n.row.title),1)]),_:1}),t(r,{prop:"date",width:"150"}),t(r,{width:"120"},{default:h(n=>[t(v,{type:"danger",onClick:P=>b(n.$index)},{default:h(()=>[L("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),M("div",ht,[t(v,{type:"danger"},{default:h(()=>[L("删除全部")]),_:1})])],64)):ae("",!0)]),_:1},8,["label"]),t(c,{label:`回收站(${s.recycle.length})`,name:"third"},{default:h(()=>[o.value==="third"?(D(),I(de,{key:0},[t(p,{data:s.recycle,"show-header":!1,style:{width:"100%"}},{default:h(()=>[t(r,null,{default:h(n=>[M("span",yt,ee(n.row.title),1)]),_:1}),t(r,{prop:"date",width:"150"}),t(r,{width:"120"},{default:h(n=>[t(v,{onClick:P=>a(n.$index)},{default:h(()=>[L("还原")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),M("div",gt,[t(v,{type:"danger"},{default:h(()=>[L("清空回收站")]),_:1})])],64)):ae("",!0)]),_:1},8,["label"])]),_:1},8,["modelValue"])])}}});export{Bt as default};
